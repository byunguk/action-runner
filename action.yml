name: 'Android'
description: 'Run Android UI Test'
inputs:
  api-version:  # id of input
    description: 'Android API version'
    required: true
    default: 29
runs:
  using: "composite"
  steps: 
    - name: Install Android Emulator
      run: |
        echo ${{ github.head_ref }}
        echo "ANDROID_HOME= ${ANDROID_HOME}"
        echo "JAVA_HOME= ${JAVA_HOME}"
        echo "export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'"
        java -version
        ls -la ${ANDROID_HOME}/tools/bin/
        yes | sudo ${ANDROID_HOME}/tools/bin/sdkmanager 'system-images;android-${{ inputs.api-version }};google_apis;x86_64' 'emulator' --verbose --sdk_root=${ANDROID_HOME}
      shell: bash